<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Datos de Usuario</title> 
    <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1.0, maximum-scale=3.0, minimum-scale=1.0">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css">
    <link rel="stylesheet" href="estilos.css">
</head>  
<body>
    <form class="formulario" onsubmit="return validarDatosUsuario()" action="datosgenerales.html">
        <h1>Datos de Usuario</h1>
        <div class="contenedor">
            <div class="input-contenedor">
                <i class="fas fa-envelope icon"></i>
                <input type="text" id="nombresApellidos" placeholder="Nombres y Apellidos">
            </div>
            <div class="input-contenedor">
                <i class="fas fa-envelope icon"></i>
                <input type="text" id="cedula" placeholder="Cédula de Identidad">
            </div>
            <div class="input-contenedor">
                <i class="fas fa-envelope icon"></i>
                <input type="text" id="telefono" placeholder="Número de teléfono">
            </div>
            <div class="input-contenedor">
                <i class="fas fa-envelope icon"></i>
                <input type="text" id="correo" placeholder="Correo Electrónico">
            </div>
            <div class="input-contenedor">
                <i class="fas fa-envelope icon"></i>
                <input type="text" id="direccion" placeholder="Dirección Residencial">
            </div>

            <!-- Cambio del tipo de botón a submit -->
            <button type="submit" class="button">Siguiente</button>
            <p id="mensaje"></p>
            <p>Verifica que los datos estén correctamente ingresados. Caso contrario más adelante no podrás modificarlos.</p>
            <p>¿Quieres Volver? <a class="link" href="datosvehiculo.html">Atrás</a></p>
        </div>
    </form>

    <script>
        function validarDatosUsuario() {
            var nombresApellidos = document.getElementById("nombresApellidos").value.trim();
            var cedula = document.getElementById("cedula").value.trim();
            var telefono = document.getElementById("telefono").value.trim();
            var correo = document.getElementById("correo").value.trim();
            var direccion = document.getElementById("direccion").value.trim();
            var mensaje = "";

            // Validación de campos vacíos
            if (nombresApellidos === "" || cedula === "" || telefono === "" || correo === "" || direccion === "") {
                mensaje = "Por favor, completa todos los campos.";
            }
            // Validación de nombres y apellidos (no permitir números)
            else if (/\d/.test(nombresApellidos)) {
                mensaje = "El campo 'Nombres y Apellidos' no puede contener números.";
            }
            // Validación de cédula (debe tener 10 dígitos)
            else if (!(/^\d{10}$/.test(cedula))) {
                mensaje = "La cédula de identidad debe tener exactamente 10 dígitos.";
            }
            // Validación de teléfono (debe tener 10 dígitos)
            else if (!(/^\d{10}$/.test(telefono))) {
                mensaje = "El número de teléfono debe tener exactamente 10 dígitos.";
            }
            // Validación de formato de correo electrónico
            else if (!(/\S+@gmail\.com$/.test(correo))) {
                mensaje = "El correo electrónico debe tener formato '@gmail.com'.";
            }
            // Validación de longitud de la dirección
            else if (direccion.length > 40) {
                mensaje = "La dirección residencial no puede exceder los 40 caracteres.";
            }

            // Si hay un mensaje de error, se muestra y se detiene el envío del formulario
            if (mensaje !== "") {
                document.getElementById("mensaje").innerText = mensaje;
                return false;
            }

            // Si todas las validaciones pasan, se permite enviar el formulario
            return true;
        }
    </script>
</body>
</html>
